defmodule Demo do
  def run() do
    case extract_ok_values([1, 2, 3]) do
      results -> {results, sum_list(results)}
    end
  end

  defp extract_ok_values(list) do
    for x when x > 1 <- list do
      x
    end
  end

  defp sum_list(list) do
    for x <- list, reduce: 0 do
      acc -> acc + x
    end
  end
end
